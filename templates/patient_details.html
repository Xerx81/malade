{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="bg-white rounded-lg shadow-lg p-6">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold text-gray-800">Détails du Patient</h1>
            <div class="flex space-x-4">
                <button onclick="window.print()" 
                        class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition">
                    Imprimer
                </button>
                <a href="{{ url_for('archives') }}" 
                   class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                    Retour aux Archives
                </a>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Informations Personnelles -->
            <div class="border rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-4">Informations Personnelles</h2>
                <div class="space-y-3">
                    <p><span class="font-medium">Nom:</span> {{ patient.nom }}</p>
                    <p><span class="font-medium">Âge:</span> {{ patient.age }} ans</p>
                    <p><span class="font-medium">Adresse:</span> {{ patient.adresse }}</p>
                    <p><span class="font-medium">Date de Naissance:</span> {{ patient.date_naissance }}</p>
                    <p><span class="font-medium">Statut:</span> {{ patient.statut }}</p>
                    <p><span class="font-medium">Occupation:</span> {{ patient.occupation }}</p>
                </div>
            </div>

            <!-- Informations du Conjoint -->
            {% if patient.nom_conjoint %}
            <div class="border rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-4">Informations du Conjoint</h2>
                <div class="space-y-3">
                    <p><span class="font-medium">Nom:</span> {{ patient.nom_conjoint }}</p>
                    <p><span class="font-medium">Occupation:</span> {{ patient.occupation_conjoint }}</p>
                    <p><span class="font-medium">Téléphone:</span> {{ patient.numero_tel_conjoint }}</p>
                    <p><span class="font-medium">Date de Naissance:</span> {{ patient.date_naissance_conjoint }}</p>
                </div>
            </div>
            {% endif %}

            <!-- Antécédents Médicaux -->
            <div class="border rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-4">Antécédents Médicaux</h2>
                <ul class="list-disc list-inside space-y-2">
                    {% for antecedent in patient.antecedents_medicaux %}
                    <li>{{ antecedent }}</li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Antécédents Hérédo-Collatéraux -->
            <div class="border rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-4">Antécédents Hérédo-Collatéraux</h2>
                <ul class="list-disc list-inside space-y-2">
                    {% for antecedent in patient.antecedents_heredo %}
                    <li>{{ antecedent }}</li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Nutrition et Counseling -->
            <div class="border rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-4">Nutrition et Counseling</h2>
                <ul class="list-disc list-inside space-y-2">
                    {% for item in patient.nutrition_counseling %}
                    <li>{{ item }}</li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Examens Physiques -->
            <div class="border rounded-lg p-4">
                <h2 class="text-xl font-semibold mb-4">Examens Physiques</h2>
                <div class="space-y-3">
                    {% for exam in patient.examen_physique %}
                    <p>{{ exam }}</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Add animations for buttons
document.querySelectorAll('button, a').forEach(button => {
    button.addEventListener('mouseenter', () => {
        gsap.to(button, { 
            scale: 1.05,
            duration: 0.3
        });
    });
    
    button.addEventListener('mouseleave', () => {
        gsap.to(button, { 
            scale: 1,
            duration: 0.3
        });
    });
});
</script>
{% endblock %}
